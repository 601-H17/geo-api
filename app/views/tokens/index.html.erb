<div class="container">
  <h1 class="page-header view-header">Tokens</h1>

  <div class="col-xs-12 col-sm-4 col-md-4 col-lg-3">
    <%= link_to 'Generate new', new_token_path, class: 'btn btn-primary' %>
  </div>

  <div class="col-xs-12 col-sm-8 col-md-8 col-lg-9">

    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="row">
          <div class="col-xs-10 text-left"><h4 class="tokens-table-header">API keys</h4></div>
          <div class="col-xs-2 text-right"><span class="badge"><%= @tokens.count %></span></div>
        </div>
      </div>
      <div class="panel-body">
        <p>Here are all your tokens for the API.</p>
      </div>

      <table class="table tokens-table">
        <thead>
          <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Created at</th>
            <th>Actions</th>
          </tr>
        </thead>

        <tbody>
          <% @tokens.each do |token| %>
            <tr class="token-actions">
              <td><%= token.id %></td>
              <td><%= token.name %></td>
              <td><%= token.created_at %></td>
              <td>
                <div class="row">
                  <button type="button" class="btn btn-primary btn-xs token-action" onclick="alert('<%= token.access_token %>')">Show</button>
                  <%= button_tag(:type => 'button', class: 'btn btn-xs btn-success token-action') do %>
                      <% link_to 'Update', edit_token_path(token), class: 'link-no-style' %>
                  <% end %>
                  <%= button_tag(:type => 'button', class: 'btn btn-xs btn-danger token-action') do %>
                    <% link_to 'Revoke', token_path(token), method: :delete, data: {confirm: 'Are you sure you want to delete this token ?'}, class: 'link-no-style' %>
                  <% end %>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

  </div>
</div>