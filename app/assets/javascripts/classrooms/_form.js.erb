var datas = [];

$(function($) {
    $.get('/api/tags/' + classroom_id,
        function (result) {
            result.forEach(function (t) {
                datas.push({ tag: t.name });
            });
            console.log(datas);
            $('.chips-initial').material_chip({
                data: datas
            });
        }
    );
});
$(function() {

    $('.chips-placeholder').material_chip({
        placeholder: 'Enter a tag',
        secondaryPlaceholder: '+ Tag'
    });

    $('.chips').on('chip.add', function(e, chip){
        datas.push(chip);
    });

    $('.chips').on('chip.delete', function(e, chip){
    });
});

function saveTags() {

    $.post("/api/tags/" + classroom_id,
        { tags: datas },
        function (result) {
            Materialize.toast('Étiquettes sauvegardées !', 4000, 'toast-success');
        }
    ).fail(function (error){
            window.alert("Something wrong " + error);
    });
}